{"version":3,"file":"static/js/385.6a4b3eaa.chunk.js","mappings":"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","sources":["webpack://peak_news/./src/pages/NewsDetails/NewsDetails.module.css?7f10","pages/NewsDetails/NewsDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"NewsDetails_container__oxidu\",\"wrapperNewsList\":\"NewsDetails_wrapperNewsList__90qoW\",\"gap20\":\"NewsDetails_gap20__Kzw3v\",\"bgLightGray\":\"NewsDetails_bgLightGray__7rqrf\",\"text11Px\":\"NewsDetails_text11Px__Smm0h\",\"trailText\":\"NewsDetails_trailText__uYgrj\",\"contentWrapper\":\"NewsDetails_contentWrapper__DAmKO\",\"imgContainer\":\"NewsDetails_imgContainer__d3rFV\",\"articleImg\":\"NewsDetails_articleImg__evnkj\",\"conentWidth\":\"NewsDetails_conentWidth__SoUrF\"};","import React, { useState } from \"react\";\r\nimport { BsFillBookmarkFill } from \"react-icons/bs\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { AlertWrapper, Button, Loader } from \"../../components\";\r\nimport { alertType, apiSectionFilters } from \"../../config\";\r\nimport { getNews } from \"../../service/section.service\";\r\nimport {\r\n  ADD_TO_BOOKMARK,\r\n  REMOVE_FROM_BOOKMARK,\r\n} from \"../../store/slices/bookmarkSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../store/store\";\r\nimport styles from \"./NewsDetails.module.css\";\r\n\r\nconst NewsDetails = () => {\r\n  const param = useParams();\r\n  const newsIdParam = param[\"*\"];\r\n  const dispatch = useAppDispatch();\r\n  const bookmarkList = useAppSelector((s) => s.bookmark);\r\n  const [alert, setAlert] = useState(false);\r\n  const [chooseAlertType, setChooseAlertType] = useState(\"\");\r\n\r\n  const queryParams = {\r\n    \"show-fields\": apiSectionFilters.SHOW_ALL,\r\n  };\r\n  const {\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    data: newsDetail,\r\n  } = useQuery([\"news-details\"], () => getNews(newsIdParam, queryParams), {\r\n    select: (res) => {\r\n      return res?.data?.response?.content;\r\n    },\r\n  });\r\n\r\n  // const keys = [\"news-details\"];\r\n  // const optionObject = {\r\n  //   queryKey: [...keys],\r\n  //   queryEndPoint: newsIdParam,\r\n  //   queryParams,\r\n  //   // select: (res) => {\r\n  //   //   return res?.data?.response?.content;\r\n  //   // },\r\n  // };\r\n\r\n  // const {\r\n  //   // isLoading,\r\n  //   // isError,\r\n  //   // error,\r\n  //   data: newsDetail2,\r\n  // } = useGetNews(optionObject);\r\n  const addToBookMark = async () => {\r\n    const {\r\n      id,\r\n      webTitle,\r\n      fields: { thumbnail },\r\n    } = newsDetail;\r\n    await dispatch(ADD_TO_BOOKMARK({ id, webTitle, thumbnail }));\r\n    setAlert(true);\r\n    setChooseAlertType(alertType.SUCCESS);\r\n  };\r\n\r\n  const removeFromBookmark = async () => {\r\n    await dispatch(REMOVE_FROM_BOOKMARK(newsIdParam));\r\n    setAlert(true);\r\n    setChooseAlertType(alertType.ERROR);\r\n  };\r\n\r\n  const handleBookmark = async (isBookmark) => {\r\n    (await isBookmark) ? removeFromBookmark() : addToBookMark();\r\n    setAlert(false);\r\n    setChooseAlertType(\"\");\r\n  };\r\n\r\n  if (isLoading) return <Loader />;\r\n  else if (isError) return <div> Something went wrong : {error.message} </div>;\r\n  else {\r\n    const isDetailExists = newsDetail.length > 0;\r\n    const getBookmark =\r\n      bookmarkList && bookmarkList.find((el) => el.id === newsIdParam);\r\n    const isBookmarked = getBookmark === undefined ? false : true;\r\n\r\n    const defineAlert =\r\n      chooseAlertType === alertType.SUCCESS\r\n        ? alertType.SUCCESS\r\n        : alertType.ERROR;\r\n    const alertTitle =\r\n      chooseAlertType === alertType.SUCCESS ? \"Bookmarked\" : \"Remove Bookmark\";\r\n    const alertMsg =\r\n      chooseAlertType === alertType.SUCCESS\r\n        ? \"successfully added to bookmark.\"\r\n        : \"remove from bookmark.\";\r\n\r\n    return (\r\n      <div className=\"container mtAftrNav\">\r\n        <div style={{ minHeight: \"700px\" }}>\r\n          {alert && (\r\n            <AlertWrapper\r\n              type={defineAlert}\r\n              title={alertTitle}\r\n              message={`\"${newsDetail.webTitle}\" : ${alertMsg}`}\r\n            />\r\n          )}\r\n          <div className={`${styles.wrapperNewsList} ${styles.gap20}`}>\r\n            <Button\r\n              classes={\"bookmarkedBtn enableBtn pointer\"}\r\n              onClick={() => handleBookmark(isBookmarked)}\r\n            >\r\n              <BsFillBookmarkFill size={11} className=\"bookMarkIcn\" />\r\n              <span>{isBookmarked ? \"REMOVE\" : \"ADD\"} BOOKMARK</span>\r\n            </Button>\r\n            <div className={styles.text11Px}>\r\n              {newsDetail.webPublicationDate}\r\n            </div>\r\n            <div>\r\n              <div className={styles.contentWrapper}>\r\n                <div\r\n                  className={`${styles.wrapperNewsList} ${styles.conentWidth} ${styles.gap20}`}\r\n                >\r\n                  <h1>{newsDetail.webTitle}</h1>\r\n                  <h3>{newsDetail?.fields?.headline ?? null}</h3>\r\n                  <hr className={styles.bgLightGray} />\r\n                  <div\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: newsDetail?.fields?.body,\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className={styles.imgContainer}>\r\n                  <img\r\n                    className={styles.articleImg}\r\n                    src={newsDetail.fields.thumbnail}\r\n                    alt={newsDetail.webTitle}\r\n                  />\r\n                  <p className={`${styles.trailText} ${styles.text11Px}`}>\r\n                    <div\r\n                      dangerouslySetInnerHTML={{\r\n                        __html: newsDetail?.fields?.trailText,\r\n                      }}\r\n                    />\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default NewsDetails;\r\n"],"names":["newsIdParam","useParams","dispatch","useAppDispatch","bookmarkList","useAppSelector","s","bookmark","useState","alert","setAlert","chooseAlertType","setChooseAlertType","queryParams","apiSectionFilters","useQuery","getNews","select","res","data","response","content","isLoading","isError","error","newsDetail","addToBookMark","id","webTitle","thumbnail","fields","ADD_TO_BOOKMARK","alertType","removeFromBookmark","REMOVE_FROM_BOOKMARK","handleBookmark","isBookmark","message","length","isBookmarked","undefined","find","el","defineAlert","alertTitle","alertMsg","className","style","minHeight","type","title","styles","classes","onClick","size","webPublicationDate","headline","dangerouslySetInnerHTML","__html","body","src","alt","trailText"],"sourceRoot":""}